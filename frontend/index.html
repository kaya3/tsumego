<!DOCTYPE html>
<html>
<body>
    <script src="out/tsumego.js"></script>
    <script type="text/javascript">
        const board = `b
.bw..
.bw..
.bw..
bbw..
www..`;
        const tsumego = Tsumego.fromJSON(`{
            "board": ${JSON.stringify(board)},
            "tree": {
                "A1": {"A2": {"A3": {"A2": "lose"}}},
                "A2": "win",
                "A3": {"A2": {"A1": {"A2": "lose"}}}
            }
        }`);
        
        const view = new TsumegoView(tsumego);
        
        view.onComplete(win => {
            console.log(win ? 'You won!' : 'You lost');
            
            setTimeout(() => view.setTsumego(tsumego), 1000);
        });
        
        document.body.appendChild(view.canvas);
        function loop() {
            view.draw();
            requestAnimationFrame(loop);
        }
        loop();
    </script>
</body>
</html>